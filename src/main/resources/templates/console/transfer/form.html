<!DOCTYPE HTML>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org">
<head th:include="console/header">
</head>
<body>
<style>
    .textbox {
        width: 100% !important;
    }
</style>
<section class="content">
    <div class="row">
        <div class="col-md-6 col-md-offset-3">
            <div class="box box-primary">
                <div class="box-header with-border">
                    <h3 class="box-title" th:text="调货"></h3>
                </div>
                <div class="box-body">
                    <form class="form-horizontal js-ajax-form" action="/console/transfer/save" method="post">
                        <!--<input type="hidden" name="uid" id="uid" th:value="${adjust.uid}" />-->
                        <!--<input type="hidden" name="createdAt" th:value="${adjust.createdat}" />-->
                        <!--<input type="hidden" name="updatedAt" th:value="${adjust.updatedat}" />-->
                        <input type="hidden" name="regionId" id="regionId" th:value="0"/>
                        <div class="form-group">
                            <label for="bizno" class="col-sm-2 control-label">单据号</label>
                            <div class="col-sm-10">
                                <input type="text" name="bizno" class="form-control" id="bizno"/>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="orderUnit" class="col-sm-2 control-label">订货单位</label>
                            <div class="col-sm-10">
                                <input type="text" name="orderunit" class="form-control" id="orderUnit"/>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="ordertime" class="col-sm-2 control-label">出货时间</label>
                            <div class="col-sm-10">
                                <input type="text" name="ordertime" class="form-control" id="ordertime"/>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="productname" class="col-sm-2 control-label">产品名称</label>
                            <div class="col-sm-10">
                                <input type="text" name="productName" class="form-control" id="productname"/>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="factory" class="col-sm-2 control-label">厂家</label>
                            <div class="col-sm-10">
                                <input type="text" name="manufacture" class="form-control" id="factory"/>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="unit" class="col-sm-2 control-label">单位</label>
                            <div class="col-sm-10">
                                <input type="text" name="unit" class="form-control" id="unit"/>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="quantity" class="col-sm-2 control-label">数量</label>
                            <div class="col-sm-10">
                                <input type="text" name="quantity" class="form-control" id="quantity"/>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="transferunit" class="col-sm-2 control-label">调货单位</label>
                            <div class="col-sm-10">
                                <input type="text" name="transferunit" class="form-control" id="transferunit"/>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="transferman" class="col-sm-2 control-label">调货员</label>
                            <div class="col-sm-10">
                                <input type="text" name="transferman" class="form-control" id="transferman"/>
                            </div>
                        </div>
                        <!--<div class="form-group">
                            <label for="adjustBegin" class="col-sm-2 control-label">调货开始</label>
                            <div class="col-sm-10">
                                <input type="text" name="adjustBegin" class="form-control" id="adjustBegin"/>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="adjustEnd" class="col-sm-2 control-label">调货截止</label>
                            <div class="col-sm-10">
                                <input type="text" name="adjustEnd" class="form-control" id="adjustEnd"/>
                            </div>
                        </div>-->

                        <div class="form-group">
                            <label for="fetchGoodsMan" class="col-sm-2 control-label">拿货员</label>
                            <div class="col-sm-10">
                                <input type="text" name="fetchGoodsMan" class="form-control" id="fetchGoodsMan"/>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="dataMan" class="col-sm-2 control-label">开单员</label>
                            <div class="col-sm-10">
                                <input type="text" name="dataMan" class="form-control" id="dataMan"/>
                            </div>
                        </div>
                       <!-- <div class="form-group">
                            <label for="purchabillno" class="col-sm-2 control-label">采购单号</label>
                            <div class="col-sm-10">
                                <input type="text" name="purchabillno" class="form-control" id="purchabillno"/>
                            </div>
                        </div>-->
                       <!-- <div class="form-group">
                            <label for="purchaDataBegin" class="col-sm-2 control-label">采购数据开始</label>
                            <div class="col-sm-10">
                                <input type="text" name="purchaDataBegin" class="form-control" id="purchaDataBegin"/>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="purchaDataEnd" class="col-sm-2 control-label">采购数据截止</label>
                            <div class="col-sm-10">
                                <input type="text" name="purchaDataEnd" class="form-control" id="purchaDataEnd"/>
                            </div>
                        </div>-->
                        <div class="form-group">
                            <label for="checkMan" class="col-sm-2 control-label">验货员</label>
                            <div class="col-sm-10">
                                <input type="text" name="checkMan" class="form-control" id="checkMan"/>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="recheckMan" class="col-sm-2 control-label">复核员</label>
                            <div class="col-sm-10">
                                <input type="text" name="recheckMan" class="form-control" id="recheckMan"/>
                            </div>
                        </div>
                        <!--<div class="form-group">
                            <label for="checkBegin" class="col-sm-2 control-label">验货开始</label>
                            <div class="col-sm-10">
                                <input type="text" name="checkBegin" class="form-control" id="checkBegin"/>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="checkEnd" class="col-sm-2 control-label">验货截止</label>
                            <div class="col-sm-10">
                                <input type="text" name="checkEnd" class="form-control" id="checkEnd"/>
                            </div>
                        </div>-->
                        <div class="form-group">
                            <label for="packMan" class="col-sm-2 control-label">打包人员</label>
                            <div class="col-sm-10">
                                <input type="text" name="packMan" class="form-control" id="packMan"/>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="deliveryMan" class="col-sm-2 control-label">送货人员</label>
                            <div class="col-sm-10">
                                <input type="text" name="deliveryMan" class="form-control" id="deliveryMan"/>
                            </div>
                        </div>
                        <!--<div class="form-group">
                            <label for="distribBegin" class="col-sm-2 control-label">配送开始</label>
                            <div class="col-sm-10">
                                <input type="text" name="distribBegin" class="form-control" id="distribBegin"/>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="distribEnd" class="col-sm-2 control-label">配送截止</label>
                            <div class="col-sm-10">
                                <input type="text" name="distribEnd" class="form-control" id="distribEnd"/>
                            </div>
                        </div>-->
                        <div class="form-group">
                            <label for="receiveAddress" class="col-sm-2 control-label">收货地址</label>
                            <div class="col-sm-10">
                                <input type="text" name="receiveAddress" class="form-control" id="receiveAddress"/>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="receiveTime" class="col-sm-2 control-label">发出时间</label>
                            <div class="col-sm-10">
                                <input type="text" name="receiveTime" class="form-control" id="receiveTime"/>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="receiveMan" class="col-sm-2 control-label">收货人</label>
                            <div class="col-sm-10">
                                <input type="text" name="receiveMan" class="form-control" id="receiveMan"/>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="receiveEndTime" class="col-sm-2 control-label">到货时间</label>
                            <div class="col-sm-10">
                                <input type="text" name="receiveEndTime" class="form-control" id="receiveEndTime"/>
                            </div>
                        </div>
                       <!-- <div class="form-group">
                            <label for="state" class="col-sm-2 control-label">状态</label>
                            <div class="col-sm-10">
                                <input type="text" name="state" class="form-control" id="state"/>
                            </div>
                        </div>-->
                        <div class="form-group">
                            <div class="col-sm-offset-2 col-sm-10">
                                <button type="submit" class="btn btn-default js-ajax-submit">提交</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</section>
<div th:include="console/footer"></div>
</body>

<script type="text/javascript">

    $(function () {
        intiCalendarWithTime('#ordertime');
        intiCalendarWithTime('#receiveTime');
        intiCalendarWithTime('#receiveEndTime');

        HospitalSelect('#orderUnit');

        createEmpSelect("#transferman", 2);
        createEmpSelect("#fetchGoodsMan", 3);
        createEmpSelect("#dataMan", 2);
        createEmpSelect("#checkMan", 1);
        createEmpSelect("#recheckMan", 1);
        createEmpSelect("#packMan", 3);
        createEmpSelect("#deliveryMan", 3);
        createEmpSelect("#receiveMan", 4);
    });



    function initCalendar(eid) {
        $(eid).jeDate({
            format: "YYYY-MM-DD hh:mm:ss"
        });
    }

    function intiCalendarWithTime(eid){
        $(eid).jeDate({
            format: "YYYY-MM-DD hh:mm:ss",
            isinitVal:true
        });
    }

    function createEmpSelect(nid, type) {
        $(nid).combobox({
            // url: '/console/employee/combobox',
            url: '/console/employee/getAllEmpsByDept?type=' + type,
            valueField: 'empName',
            textField: 'empName',
            onLoadSuccess: function (result) {
                console.log(result);
                var emplist = result.result.emplist || [];
                $(nid).combobox('loadData', emplist);
            }
        });
    }

    function HospitalSelect(nid, type) {
        $(nid).combobox({
            url: '/console/hospital/getAllHospital',
            valueField: 'name',
            textField: 'name',
            onLoadSuccess: function (result) {
                console.log(result);
                var hospitalList = result.result.hospitalList || [];
                $(nid).combobox('loadData', hospitalList);
            },
            onSelect:function(record){
                console.log(record);
                if(record)
                {
                    var regionId = record.regionId;
                    $("#regionId").val(regionId);
                    $("#receiveAddress").val(record.receiptAddr);
                    $("#receiveMan").combobox('setValue',record.inchargeName);
                }
            }
        });
    }

</script>
</html>