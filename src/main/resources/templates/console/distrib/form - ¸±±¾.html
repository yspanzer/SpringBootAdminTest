<!DOCTYPE HTML>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org">
<head th:include="console/header">


</head>
<body>
<section class="content">
    <div class="row">
        <div class="col-md-6 col-md-offset-3">
            <div class="box box-primary">
                <div class="box-header with-border">
                    <h3 class="box-title" th:text="'配送'+${#strings.isEmpty(distrib.uid)?'添加':'修改'}"></h3>
                </div>
                <div class="box-body">
                    <form class="form-horizontal js-ajax-form" action="/console/distrib/save" method="post">
                        <input type="hidden" name="uid" id="uid" th:value="${distrib.uid}" />
                        <input type="hidden" name="createdAt" th:value="${distrib.createdat}" />
                        <input type="hidden" name="updatedAt" th:value="${distrib.updatedat}" />
                        <div class="form-group">
                            <label for="distribNum" class="col-sm-2 control-label">单据号</label>
                            <div class="col-sm-10">
                                <input type="text" name="distribNum" class="form-control" id="distribNum" th:readonly="${!#strings.equals(distrib.uid,null)}" th:value="${distrib.distribNum}" />
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="orderUnit" class="col-sm-2 control-label">订货单位</label>
                            <div class="col-sm-10">
                                <input type="text" name="orderUnit" class="form-control" id="orderUnit" th:readonly="${!#strings.equals(distrib.uid,null)}" th:value="${distrib.orderUnit}"/>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="shipmentTime" class="col-sm-2 control-label">出货时间</label>
                            <div class="col-sm-10">
                                <input type="text" name="shipmentTime" class="form-control" id="shipmentTime" th:readonly="${!#strings.equals(distrib.uid,null)}" th:value="${distrib.shipmentTime}"/>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="productname" class="col-sm-2 control-label">产品名称</label>
                            <div class="col-sm-10">
                                <input type="text" name="productname" class="form-control" id="productname" th:readonly="${!#strings.equals(distrib.uid,null)}" th:value="${distrib.productname}"/>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="unit" class="col-sm-2 control-label">单位</label>
                            <div class="col-sm-10">
                                <input type="text" name="unit" class="form-control" id="unit" th:readonly="${!#strings.equals(distrib.uid,null)}" th:value="${distrib.unit}"/>
                            </div>
                        </div>
                        <div class="form-group">
                        <label for="number" class="col-sm-2 control-label">数量</label>
                        <div class="col-sm-10">
                            <input type="text" name="number" class="form-control" id="number" th:readonly="${!#strings.equals(distrib.uid,null)}" th:value="${distrib.number}"/>
                        </div>
                    </div>
                        <div class="form-group">
                            <label for="factory" class="col-sm-2 control-label">厂家</label>
                            <div class="col-sm-10">
                                <input type="text" name="factory" class="form-control" id="factory" th:readonly="${!#strings.equals(distrib.uid,null)}" th:value="${distrib.factory}"/>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="orderMan" class="col-sm-2 control-label">接单人员</label>
                            <div class="col-sm-10">
                                <!--<input type="text" name="orderMan" class="form-control" id="orderMan" th:readonly="${!#strings.equals(distrib.uid,null)}" th:value="${distrib.orderMan}"/>-->
                                <input type="text" name="orderMan" class="form-control" id="orderMan" th:disabled="${!#strings.equals(distrib.uid,null)}" th:value="${distrib.orderMan}"/>
                            </div>
                        </div>
                        <div class="form-group">
                        <label for="orderBegin" class="col-sm-2 control-label">接单开始</label>
                        <div class="col-sm-10">
                            <input type="text" name="orderBegin" class="form-control" id="orderBegin"  th:readonly="${!#strings.equals(distrib.uid,null)}" th:value="${distrib.orderBegin}"/>
                        </div>
                    </div>
                        <div class="form-group">
                            <label for="orderEnd" class="col-sm-2 control-label">接单截止</label>
                            <div class="col-sm-10">
                                <input type="text" name="orderEnd" class="form-control" id="orderEnd"  th:readonly="${!#strings.equals(distrib.uid,null)}" th:value="${distrib.orderEnd}"/>
                            </div>
                        </div>
                        <div class="form-group" th:hidden="${!#strings.equals(distrib.state,1)}">
                            <label for="dataMan" class="col-sm-2 control-label">数据员</label>
                            <div class="col-sm-10">
                                <input type="text" name="dataMan" class="form-control" id="dataMan"  th:value="${distrib.dataMan}"/>
                            </div>
                        </div>
                        <div class="form-group" th:hidden="${!#strings.equals(distrib.state,1)}">
                            <label for="databillno" class="col-sm-2 control-label">配送单号</label>
                            <div class="col-sm-10">
                                <input type="text" name="databillno" class="form-control" id="databillno"  th:value="${distrib.databillno}"/>
                            </div>
                        </div>
                        <div class="form-group" th:hidden="${!#strings.equals(distrib.state,1)}">
                            <label for="dataBegin" class="col-sm-2 control-label">数据录入开始</label>
                            <div class="col-sm-10">
                                <input type="text" name="dataBegin" class="form-control" id="dataBegin"  th:value="${distrib.dataBegin}"/>
                            </div>
                        </div>
                        <div class="form-group" th:hidden="${!#strings.equals(distrib.state,1)}">
                            <label for="dataEnd" class="col-sm-2 control-label">数据录入截止</label>
                            <div class="col-sm-10">
                                <input type="text" name="dataEnd" class="form-control" id="dataEnd"  th:value="${distrib.dataEnd}"/>
                            </div>
                        </div>
                        <div class="form-group" th:hidden="${!#strings.equals(distrib.state,2)}">
                            <label for="distribCheckMan" class="col-sm-2 control-label">配货复核员</label>
                            <div class="col-sm-10">
                                <input type="text" name="distribCheckMan" class="form-control" id="distribCheckMan"  th:value="${distrib.distribCheckMan}"/>
                            </div>
                        </div>
                        <div class="form-group" th:hidden="${!#strings.equals(distrib.state,2)}">
                        <label for="distribCheckBegin" class="col-sm-2 control-label">配货复核开始</label>
                        <div class="col-sm-10">
                            <input type="text" name="distribCheckBegin" class="form-control" id="distribCheckBegin"  th:value="${distrib.distribCheckBegin}"/>
                        </div>
                    </div>
                        <div class="form-group" th:hidden="${!#strings.equals(distrib.state,2)}">
                            <label for="distribCheckEnd" class="col-sm-2 control-label">配货复核截止</label>
                            <div class="col-sm-10">
                                <input type="text" name="distribCheckEnd" class="form-control" id="distribCheckEnd"  th:value="${distrib.distribCheckEnd}"/>
                            </div>
                        </div>
                        <div class="form-group" th:hidden="${!#strings.equals(distrib.state,3)}">
                            <label for="distribPackMan" class="col-sm-2 control-label">打包人员</label>
                            <div class="col-sm-10">
                                <input type="text" name="distribPackMan" class="form-control" id="distribPackMan"  th:value="${distrib.distribPackMan}"/>
                            </div>
                        </div>
                        <div class="form-group" th:hidden="${!#strings.equals(distrib.state,3)}">
                            <label for="distribDeliMan" class="col-sm-2 control-label">送货人员</label>
                            <div class="col-sm-10">
                                <input type="text" name="distribDeliMan" class="form-control" id="distribDeliMan"  th:value="${distrib.distribDeliMan}"/>
                            </div>
                        </div>
                        <div class="form-group" th:hidden="${!#strings.equals(distrib.state,3)}">
                            <label for="distribBegin" class="col-sm-2 control-label">配送开始</label>
                            <div class="col-sm-10">
                                <input type="text" name="distribBegin" class="form-control" id="distribBegin"  th:value="${distrib.distribBegin}"/>
                            </div>
                        </div>
                        <div class="form-group" th:hidden="${!#strings.equals(distrib.state,3)}">
                            <label for="distribEnd" class="col-sm-2 control-label">配送截止</label>
                            <div class="col-sm-10">
                                <input type="text" name="distribEnd" class="form-control" id="distribEnd"  th:value="${distrib.distribEnd}"/>
                            </div>
                        </div>
                        <div class="form-group" th:hidden="${!#strings.equals(distrib.state,3)}">
                            <label for="receiptAddr" class="col-sm-2 control-label">收货地址</label>
                            <div class="col-sm-10">
                                <input type="text" name="receiptAddr" class="form-control" id="receiptAddr"  th:value="${distrib.receiptAddr}"/>
                            </div>
                        </div>
                        <div class="form-group" th:hidden="${!#strings.equals(distrib.state,3)}">
                            <label for="sendoutTime" class="col-sm-2 control-label">发出时间</label>
                            <div class="col-sm-10">
                                <input type="text" name="sendoutTime" class="form-control" id="sendoutTime"  th:value="${distrib.sendoutTime}"/>
                            </div>
                        </div>
                        <div class="form-group" th:hidden="${!#strings.equals(distrib.state,3)}">
                            <label for="recieptMan" class="col-sm-2 control-label">收货人</label>
                            <div class="col-sm-10">
                                <input type="text" name="recieptMan" class="form-control" id="recieptMan"  th:value="${distrib.recieptMan}"/>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="state" class="col-sm-2 control-label">状态</label>
                            <div class="col-sm-10">
                                <input type="text" name="state" class="form-control" id="state" th:value="${distrib.state}"/>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-sm-offset-2 col-sm-10">
                                <button type="button" id="start" class="btno btn-default js-ajax-submit">开始</button>
                                <button type="submit" id="end" class="btn btn-default js-ajax-submit">结束</button>
                                <button type="submit" class="btn btn-default js-ajax-submit">提交</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</section>
<div th:include="console/footer"></div>
</body>

<script type="text/javascript">

    $(function () {
        $('#start').on('click', function () {
            var orderUnit = $("#orderUnit").val();
            var shipmentTime = $("#shipmentTime").val();
            var productname = $("#productname").val();
            var unit = $("#unit").val();
            var number = $("#number").val();
            var factory = $('#factory');

            var data  = {
                orderUnit:'三方大',
                productname:productname
            };

            var url = '/console/distrib/save';

            $.ajax({
                url:url,
                type:'post',
                data:data,
                dataType:'json',
                success:function(result){
                    console.log(result);
                }

            })

        });

        $("#shipmentTime,#orderBegin,#orderEnd,#dataBegin,#dataEnd,#distribCheckBegin,#distribCheckEnd,#distribBegin,#distribEnd,#sendoutTime").datetimepicker({
            format: 'yyyy-mm-dd hh:ii',
            language: 'zh-CN',
            weekStart: 1,
            todayBtn: 1,
            autoclose: 1,
            todayHighlight: 1,
            startView: 1,
            forceParse: 0,
            showMeridian: 1
        });

    $("#orderMan").combobox({
        url:'/console/employee/combobox',
        valueField:'empName',
        textField:'empName',
        onLoadSuccess:function (result) {
            console.log(result);
            $("#orderMan").combobox('loadData',result.result.emplist);
        }
    });


         /*$('#orderMan').combobox({
             url:'/console/role/combobox',
             valueField:'roleId',
             textField:'roleName'
         });*/

       /* $('#orderMan').select2({
            placeholder: "请选择",
            language: "zh-CN",
            ajax: {
                url: '/console/role/combobox',
                dataType: 'json',
                data: function (params) {
                    var query = {
                        search: params.term,
                        type: 'public'
                    }
                    return query;
                },
                results: function (data) {
                    return {
                        results: data.roleList
                    };
                }
            }
        })*/

    })

</script>
</html>